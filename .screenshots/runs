{"version":2,"width":190,"height":46,"timestamp":1721392058,"env":{"SHELL":"/bin/bash","TERM":"xterm-256color"}}
[0.017483, "o", "\u001b[?2004h\u001b]0;damienqazar@Astrale: ~/organisations/tranched/go-rest-api\u0007\u001b[01;32mdamienqazar@Astrale\u001b[00m:\u001b[01;34m~/organisations/tranched/go-rest-api\u001b[00m$ "]
[0.410322, "o", "s"]
[0.52387, "o", "u"]
[0.61796, "o", "d"]
[0.706383, "o", "o"]
[0.786165, "o", " "]
[0.938132, "o", "m"]
[0.994005, "o", "a"]
[1.106187, "o", "k"]
[1.185, "o", "e"]
[1.256609, "o", " "]
[1.410873, "o", "a"]
[1.465837, "o", "l"]
[1.602276, "o", "l"]
[1.785989, "o", "\r\n\u001b[?2004l\r"]
[1.793054, "o", "[sudo] password for damienqazar: "]
[3.274305, "o", "\r\n"]
[3.309409, "o", "make reset\r\n"]
[3.311914, "o", "make[1]: Entering directory '/home/damienqazar/organisations/tranched/go-rest-api'\r\ndocker compose down --volumes --remove-orphans\r\n"]
[3.474764, "o", "\u001b[1A\u001b[1B\u001b[0G\u001b[?25l"]
[3.475015, "o", "[+] Running 1/0\r\n \u001b[32m✔\u001b[0m Container go-rest-api-postgres-1  \u001b[32mRemoved\u001b[0m                                                                                                                                             \u001b[34m0.0s \u001b[0m\r\n\u001b[?25h"]
[3.479607, "o", "docker compose up postgres -d\r\n"]
[3.689598, "o", "\u001b[1A\u001b[1B\u001b[0G\u001b[?25l[+] Running 0/0\r\n \u001b[33m⠋\u001b[0m Container go-rest-api-postgres-1  Starting                                                                                                                                            \u001b[34m0.1s \u001b[0m\r\n\u001b[?25h"]
[3.789989, "o", "\u001b[1A\u001b[1A\u001b[0G\u001b[?25l[+] Running 0/1\r\n \u001b[33m⠙\u001b[0m Container go-rest-api-postgres-1  Starting                                                                                                                                            \u001b[34m0.2s \u001b[0m\r\n\u001b[?25h"]
[3.889464, "o", "\u001b[1A\u001b[1A\u001b[0G\u001b[?25l[+] Running 0/1\r\n \u001b[33m⠹\u001b[0m Container go-rest-api-postgres-1  Starting                                                                                                                                            \u001b[34m0.3s \u001b[0m\r\n\u001b[?25h"]
[3.989967, "o", "\u001b[1A\u001b[1A\u001b[0G\u001b[?25l[+] Running 0/1\r\n \u001b[33m⠸\u001b[0m Container go-rest-api-postgres-1  Starting                                                                                                                                            \u001b[34m0.4s \u001b[0m\r\n\u001b[?25h"]
[4.089371, "o", "\u001b[1A\u001b[1A\u001b[0G\u001b[?25l[+] Running 0/1\r\n \u001b[33m⠼\u001b[0m Container go-rest-api-postgres-1  Starting                                                                                                                                            \u001b[34m0.5s \u001b[0m\r\n\u001b[?25h"]
[4.135022, "o", "\u001b[1A\u001b[1A\u001b[0G\u001b[?25l\u001b[34m[+] Running 1/1\u001b[0m\r\n \u001b[32m✔\u001b[0m Container go-rest-api-postgres-1  \u001b[32mStarted\u001b[0m                                                                                                                                             \u001b[34m0.5s \u001b[0m\r\n\u001b[?25h"]
[4.139726, "o", "make[1]: Leaving directory '/home/damienqazar/organisations/tranched/go-rest-api'\r\n"]
[4.139984, "o", "echo \"wait postgres to be up\"\r\n"]
[4.141649, "o", "wait postgres to be up\r\n"]
[4.141803, "o", "sleep 4\r\n"]
[8.143762, "o", "make migrate\r\n"]
[8.14653, "o", "make[1]: Entering directory '/home/damienqazar/organisations/tranched/go-rest-api'\r\ndocker run --rm -it --network=host -v \"./app/database:/db\" ghcr.io/amacneil/dbmate -u \"\"postgres://postgres:3f4f2770c42a8efddc80e61da8d7c9f71cfe2eb03ff6040542ad24a42192731f4af7e875ca5fc8736240@127.0.0.1:55432/postgres?sslmode=disable\"\" -no-dump-schema migrate\r\n"]
[8.434347, "o", "Applying: 20240714133046_create_users_table.sql\r\n"]
[8.449283, "o", "Applied: 20240714133046_create_users_table.sql in 15.408201ms\r\nApplying: 20240714143055_create_assets_table.sql\r\n"]
[8.466897, "o", "Applied: 20240714143055_create_assets_table.sql in 17.5993ms\r\nApplying: 20240717120000_create_orders_table.sql\r\n"]
[8.482227, "o", "Applied: 20240717120000_create_orders_table.sql in 15.0882ms\r\n"]
[8.564266, "o", "make[1]: Leaving directory '/home/damienqazar/organisations/tranched/go-rest-api'\r\n"]
[8.564565, "o", "echo \"wait for api to boot\"\r\n"]
[8.565494, "o", "wait for api to boot\r\n"]
[8.565645, "o", "make run_go_api\r\n"]
[8.567277, "o", "make[1]: Entering directory '/home/damienqazar/organisations/tranched/go-rest-api'\r\ndocker compose up go-api -d\r\n"]
[8.780335, "o", "\u001b[1A\u001b[1B\u001b[0G\u001b[?25l[+] Running 1/0\r\n \u001b[32m✔\u001b[0m Container go-rest-api-postgres-1  \u001b[32mRunning\u001b[0m                                                                                                                                             \u001b[34m0.0s \u001b[0m\r\n \u001b[33m⠋\u001b[0m Container go-rest-api-go-api-1    Starting                                                                                                                                            \u001b[34m0.1s \u001b[0m\r\n\u001b[?25h"]
[8.881095, "o", "\u001b[1A\u001b[1A\u001b[1A\u001b[0G\u001b[?25l[+] Running 1/2\r\n \u001b[32m✔\u001b[0m Container go-rest-api-postgres-1  \u001b[32mRunning\u001b[0m                                                                                                                                             \u001b[34m0.0s \u001b[0m\r\n \u001b[33m⠙\u001b[0m Container go-rest-api-go-api-1    Starting                                                                                                                                            \u001b[34m0.2s \u001b[0m\r\n\u001b[?25h"]
[8.981594, "o", "\u001b[1A\u001b[1A\u001b[1A\u001b[0G\u001b[?25l[+] Running 1/2\r\n \u001b[32m✔\u001b[0m Container go-rest-api-postgres-1  \u001b[32mRunning\u001b[0m                                                                                                                                             \u001b[34m0.0s \u001b[0m\r\n \u001b[33m⠹\u001b[0m Container go-rest-api-go-api-1    Starting                                                                                                                                            \u001b[34m0.3s \u001b[0m\r\n\u001b[?25h"]
[9.080666, "o", "\u001b[1A\u001b[1A\u001b[1A\u001b[0G\u001b[?25l[+] Running 1/2\r\n \u001b[32m✔\u001b[0m Container go-rest-api-postgres-1  \u001b[32mRunning\u001b[0m                                                                                                                                             \u001b[34m0.0s \u001b[0m\r\n \u001b[33m⠸\u001b[0m Container go-rest-api-go-api-1    Starting                                                                                                                                            \u001b[34m0.4s \u001b[0m\r\n\u001b[?25h"]
[9.181089, "o", "\u001b[1A\u001b[1A\u001b[1A\u001b[0G\u001b[?25l[+] Running 1/2\r\n \u001b[32m✔\u001b[0m Container go-rest-api-postgres-1  \u001b[32mRunning\u001b[0m                                                                                                                                             \u001b[34m0.0s \u001b[0m\r\n \u001b[33m⠼\u001b[0m Container go-rest-api-go-api-1    Starting                                                                                                                                            \u001b[34m0.5s \u001b[0m\r\n\u001b[?25h"]
[9.212335, "o", "\u001b[1A\u001b[1A\u001b[1A\u001b[0G\u001b[?25l\u001b[34m[+] Running 2/2\u001b[0m\r\n \u001b[32m✔\u001b[0m Container go-rest-api-postgres-1  \u001b[32mRunning\u001b[0m                                                                                                                                             \u001b[34m0.0s \u001b[0m\r\n \u001b[32m✔\u001b[0m Container go-rest-api-go-api-1    \u001b[32mStarted\u001b[0m                                                                                                                                             \u001b[34m0.5s \u001b[0m\r\n\u001b[?25h"]
[9.21674, "o", "make[1]: Leaving directory '/home/damienqazar/organisations/tranched/go-rest-api'\r\n"]
[9.216992, "o", "docker compose logs -f\r\n"]
[9.352483, "o", "\u001b[33mpostgres-1  | \u001b[0mThe files belonging to this database system will be owned by user \"postgres\".\r\n\u001b[33mpostgres-1  | \u001b[0mThis user must also own the server process.\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0mThe database cluster will be initialized with locale \"en_US.utf8\".\r\n\u001b[33mpostgres-1  | \u001b[0mThe default database encoding has accordingly been set to \"UTF8\".\r\n"]
[9.352707, "o", "\u001b[33mpostgres-1  | \u001b[0mThe default text search configuration will be set to \"english\".\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0mData page checksums are disabled.\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0mfixing permissions on existing directory /var/lib/postgresql/data ... ok\r\n\u001b[33mpostgres-1  | \u001b[0mcreating subdirectories ... ok\r\n\u001b[33mpostgres-1  | \u001b[0mselecting dynamic shared memory implementation ... posix\r\n\u001b[33mpostgres-1  | \u001b[0mselecting default max_connections ... 100\r\n\u001b[33mpostgres-1  | \u001b[0mselecting default shared_buffers ... 128MB\r\n\u001b[33mpostgres-1  | \u001b[0mselecting default time zone ... Etc/UTC\r\n\u001b[33mpostgres-1  | \u001b[0mcreating configuration files ... ok\r\n\u001b[33mpostgres-1  | \u001b[0mrunning bootstrap script ... ok\r\n\u001b[33mpostgres-1  | \u001b[0mperforming post-bootstrap initialization ... ok\r\n\u001b[33mpostgres-1  | \u001b[0msyncing data to disk ... ok\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0minitdb: warning: enabling \"trust\" authentication for local connections\r\n\u001b[33mpostgres-1  | \u001b[0minitdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.\r\n\u001b[33mpostgres-1  | \u001b[0mSuccess. You can now start the database server using:\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0m    pg_ctl -D /var/lib/postgresql/data -l logfile start\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0mwaiting for server to start....2024-07-19 12:27:44.013 UTC [48] LOG:  starting PostgreSQL 16.3 (Debian 16.3-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.017 UTC [48] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.029 UTC [51] LOG:  database system was shut down at 2024-07-19 12:27:43 UTC\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.037 UTC [48] LOG:  database system is ready to accept connections\r\n\u001b[33mpostgres-1  | \u001b[0m done\r\n\u001b[33mpostgres-1  | \u001b[0mserver started\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0m/usr/local/bin/docker-entrypoint.sh: ignoring /docker-entrypoint-initdb.d/*\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.140 UTC [48] LOG:  received fast shutdown request\r\n\u001b[33mpostgres-1  | \u001b[0mwaiting for server to shut down....2024-07-19 12:27:44.145 UTC [48] LOG:  aborting any active transactions\r\n"]
[9.352865, "o", "\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.148 UTC [48] LOG:  background worker \"logical replication launcher\" (PID 54) exited with exit code 1\r\n"]
[9.353185, "o", "\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.148 UTC [49] LOG:  shutting down\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.153 UTC [49] LOG:  checkpoint starting: shutdown immediate\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.176 UTC [49] LOG:  checkpoint complete: wrote 3 buffers (0.0%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.008 s, sync=0.003 s, total=0.028 s; sync files=2, longest=0.002 s, average=0.002 s; distance=0 kB, estimate=0 kB; lsn=0/14EA208, redo lsn=0/14EA208\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.180 UTC [48] LOG:  database system is shut down\r\n\u001b[33mpostgres-1  | \u001b[0m done\r\n\u001b[33mpostgres-1  | \u001b[0mserver stopped\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0mPostgreSQL init process complete; ready for start up.\r\n\u001b[33mpostgres-1  | \u001b[0m\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.273 UTC [1] LOG:  starting PostgreSQL 16.3 (Debian 16.3-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.274 UTC [1] LOG:  listening on IPv4 address \"0.0.0.0\", port 5432\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.274 UTC [1] LOG:  listening on IPv6 address \"::\", port 5432\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.282 UTC [1] LOG:  listening on Unix socket \"/var/run/postgresql/.s.PGSQL.5432\"\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.293 UTC [62] LOG:  database system was shut down at 2024-07-19 12:27:44 UTC\r\n\u001b[33mpostgres-1  | \u001b[0m2024-07-19 12:27:44.302 UTC [1] LOG:  database system is ready to accept connections\r\n"]
[23.76397, "o", "\u001b[36mgo-api-1    | \u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0m\u001b[100m\u001b[37;1m INFO \u001b[0m 2024/07/19 12:28:02.40583\u001b[90m (/app/main.go:39)\u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0mRegistering hooks\u001b[0m\r\n"]
[23.764511, "o", "\u001b[36mgo-api-1    | \u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0m\u001b[100m\u001b[37;1m INFO \u001b[0m 2024/07/19 12:28:02.406913\u001b[90m (/app/main.go:62)\u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0mRegistering services\u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0m\u001b[100m\u001b[37;1m INFO \u001b[0m 2024/07/19 12:28:02.406986\u001b[90m (/app/main.go:52)\u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0mRegistering routes\u001b[0m\r\n"]
[23.76525, "o", "\u001b[36mgo-api-1    | \u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0m\u001b[100m\u001b[37;1m INFO \u001b[0m 2024/07/19 12:28:02.407393\u001b[90m (/app/main.go:43)\u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0mServer is listening\u001b[0m\r\n\u001b[36mgo-api-1    | \u001b[0m\u001b[37;1mhost: \u001b[0m0.0.0.0:8080\r\n"]
[26.306857, "o", "^C"]
[26.307566, "o", "canceled\r\n"]
[26.311834, "o", "make: *** [Makefile:25: all] Error 130\r\n"]
[26.314303, "o", "\r\n"]
[26.314523, "o", "\u001b[?2004h\u001b]0;damienqazar@Astrale: ~/organisations/tranched/go-rest-api\u0007\u001b[01;32mdamienqazar@Astrale\u001b[00m:\u001b[01;34m~/organisations/tranched/go-rest-api\u001b[00m$ "]
[27.299632, "o", "\u001b[?2004l\r\r\nexit\r\n"]
